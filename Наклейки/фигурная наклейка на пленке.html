<style>
	.t-form__screen-wrapper .t-input-group_rd + .t-input-group_in {
		width: 10%;
	}

	.t-form__screen-wrapper .t-input-group_rd + .t-input-group_in + .t-input-group_in {
		width: 10%;
	}

	.t-form__screen-wrapper .t-input-group_rd + .t-input-group_in .t-input-block {
		width: 50%;
	}

	.t-form__screen-wrapper .t-input-group_rd + .t-input-group_in + .t-input-group_in .t-input-block {
		width: 50%;
	}

	.t-form__screen-wrapper_active .t-input-block .t-input,
	.t-form__screen-wrapper_active .t-input-block .t-select {
		height: 40px;
		border-radius: 5px;
	}

	.t-form__screen .t-form__errorbox-wrapper {
		clear: both;
	}

	.t-form__inputsbox.t-form__screen {
		background-color: #fff;
		padding: 20px;
	}

	.t-form__screen .t-upwidget-container__button {
		background-color: #44647d !important;
	}

	.t-form__screen .t-input-group_fr {
		text-align: right;
	}

	.t-form__screen .t-form__submit {
		margin: 30px 0 0;
	}

	.t-form__screen .t-input-group {
		display: flex;
		flex-wrap: wrap;
		align-content: flex-start;
		margin: 0;
		width: 20%;
		min-width: 200px;
	}

	.t-form__screen .t-input-title {
		width: 100%;
		height: auto;
	}

	.t-form__screen-wrapper.t-form__screen-wrapper_active {
		display: flex !important;
		flex-wrap: wrap;
		justify-content: space-between;
	}

	.t-form__screen .t-input-group.t-input-group_fr {
		text-align: right;
		justify-content: flex-end;
		width: 100%;
		margin-bottom: 0;
	}

	.t-form__screen .t-input-group.t-input-group_uw+.t-input-group.t-input-group_fr {
		width: 50%;
		align-content: flex-end;
	}

	.t-form__screen .t-input-group.t-input-group_tx {
		width: 100%;
	}

	.t-form__screen-wrapper_active .t-input-block {
		width: 100%;
	}

	.t-form__screen-wrapper_active .t-input-block .t-input,
	.t-form__screen-wrapper_active .t-input-block .t-select {
		width: 90%;
	}

	.t-form__screen .t-form__screen-wrapper_active .t-input-group_cb, 
	.t-form__screen .t-form__screen-wrapper_active .t-input-group_uw {
    width: 10%;
    min-width: 290px;
    margin-bottom: 0;
}

	.t-form__screen .t-input-group_ph,
	.t-form__screen .t-input-group_sb,
	.t-form__screen .t-input-group_in,
	.t-form__screen .t-input-group_em,
	.t-form__screen .t-input-group_nm,
	.t-form__screen .t-input-group_uw {
		width: 50%;
		margin-right: 0;
	}

	.t-form__screen .t-input-group_in[data-input-lid="1584868297796"] {
		width: 20%;
	}

	.t-form__screen .sepcial-flex-wrapper {
		width: 50%;
		display: flex;
		flex-wrap: nowrap;
		align-items: center;
	}

	.t-form__screen .sepcial-flex-wrapper .t-input-group_cb {
		position: relative;
		top: 10px;
		left: -80px;
	}

	.t-form__screen .t-input-group.t-input-group_cb .t-text_xs {
		font-size: 15px;
	}

	.t-form__screen .t-form__submit .t-form__screen-btn-next {
    	padding: 0 30px 0 10px;
	}
	.t-form__screen .t-form__submit .t-form__screen-btn-prev {
		padding: 0 10px 0 30px;
	}
	.t-form__screen .t-form__submit .t-submit{
		padding: 0 10px;
	}
	.t-form__screen .t-input-group{
		margin-bottom: 25px;	
	}
	.t-form__screen .t-select__wrapper:after{
		right: 70px;
	}

	@media screen and (max-width: 700px) {
		.t-form__screen .t-input-group.t-input-group_fr {
			text-align: center;
			justify-content: center;
		}

		.t-form__screen .t-input-group_ph,
		.t-form__screen .t-input-group_sb,
		.t-form__screen .t-input-group_in,
		.t-form__screen .t-input-group_em,
		.t-form__screen .t-input-group_nm,
		.t-form__screen .t-input-group_uw {
			width: 100%;
			justify-content: center;
		}

		.t-form__screen-wrapper.t-form__screen-wrapper_active {
			justify-content: center;
		}

		.t-form__screen .t-input-group_uw {
			text-align: center;
		}

		.t-form__screen .t-input-group_uw .t-input-block {
			display: flex;
			justify-content: center;
		}

		.t-form__screen .t-input-group.t-input-group_uw+.t-input-group.t-input-group_fr {
			width: 100%;
		}

		.t-form__screen .t-form__screen-btn-prev {
			margin-right: 0;
		}

		.t-form__screen .sepcial-flex-wrapper {
			justify-content: center;
			width: 100%;
			flex-wrap: wrap;
		}

		.t-form__screen .sepcial-flex-wrapper .t-input-block {
			width: auto;
			display: flex;
		}

		.t-form__screen .sepcial-flex-wrapper .t-input-group_cb {
			position: inherit;
			justify-content: center;
			margin: 10px 0 15px;
		}
	}
	@media screen and (max-width: 460px){
		.t-form__screen .t-form__submit > .t-form__screen-btn-prev {
			margin-bottom: 15px;
			padding: 10px;
		}
		.t-form__screen .t-select__wrapper:after {
			right: 40px;
		}
	}
</style>
<script>
	$(document).ready(function () {

		try {
			setTimeout(function () {
				$('.t-form__screen-current-view').remove();
				$('.t-form__screen-wrapper .t-input-group_uw, .t-form__screen-wrapper .t-input-group_uw + .t-input-group_cb').wrapAll('<div class="sepcial-flex-wrapper"></div>');

				function updateFinalPrice() {

					if (column == 0) {
						rangeVal = 50;
					}
					let final_price = Math.floor(table[row][column] * Math.ceil(rangeVal / 50) * 50 * numberOfSets);

					$('[data-input-lid="1584868418389"] .t-calc').html(`<s>${Math.floor(final_price)} руб</s> <span style="color:white;">с НДС</span><br/>${Math.floor(final_price * 0.93)}`);
					$('[data-input-lid="1584868661139"] .t-calc').text(Math.floor(final_price * 0.93));
					$('[data-input-lid="1584868418389"] [name="Formula"]').attr('value', Math.floor(final_price));
	                $('[data-input-lid="1584868661139"] [name="Formula_2"]').attr('value', Math.floor(final_price * 0.93));
				}

				//определение переменных

				const table_paper = [ // Наклейки КРУГЛАЯ БУМАГА - первый шаг минимальный 50, потом равен 50				
					[50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950, 1000], // Цветность\Количество
					[14.12, 7.63, 7.12, 6.64, 6.2, 5.98, 5.77, 5.57, 5.37, 5.19, 5, 4.83, 4.66, 4.5, 4.34, 4.19, 4.04, 3.9, 3.76, 3.63], // диаметр 30 мм
					[17.97, 10.27, 9.64, 9.06, 8.5, 8.21, 7.92, 7.64, 7.37, 7.12, 6.87, 6.63, 6.39, 6.17, 5.95, 5.75, 5.54, 5.35, 5.16, 4.98], // диаметр 50 мм
					[21.53, 13.05, 12.53, 12.03, 11.55, 11.14, 10.75, 10.38, 10.01, 9.66, 9.32, 9, 8.68, 8.38, 8.09, 7.8, 7.53, 7.27, 7.01, 6.77], // диаметр 70 мм
					[29.36, 18.94, 18.47, 18, 17.55, 17.12, 16.69, 16.27, 15.86, 15.47, 15.08, 14.7, 14.34, 13.98, 13.63, 13.29, 12.96, 12.63, 12.32, 12.01], // диаметр 100 мм
					[56.48, 38.95, 38.56, 38.17, 37.79, 37.42, 37.04, 36.67, 36.3, 35.94, 35.58, 35.23, 34.87, 34.52, 34.18, 33.84, 33.5, 33.16, 32.83, 32.5] // диаметр 150 мм
				];
				const table_vinyl = [ // Наклейки КРУГЛАЯ ПЛЕНКА - первый шаг минимальный 50, потом равен 50				
					[50, 100, 150, 200, 250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950, 1000], // Цветность\Количество
					[21.66, 11.71, 10.95, 10.24, 9.57, 9.24, 8.91, 8.6, 8.3, 8.01, 7.73, 7.46, 7.2, 6.95, 6.7, 6.47, 6.24, 6.02, 5.81, 5.61], // диаметр 30 мм
					[24.26, 13.86, 13.21, 12.59, 12, 11.58, 11.17, 10.78, 10.4, 10.04, 9.69, 9.35, 9.02, 8.71, 8.4, 8.11, 7.82, 7.55, 7.28, 7.03], // диаметр 50 мм
					[24.67, 14.95, 14.73, 14.5, 14.29, 14.07, 13.86, 13.65, 13.45, 13.25, 13.05, 12.85, 12.66, 12.47, 12.28, 12.1, 11.92, 11.74, 11.56, 11.39], // диаметр 70 мм
					[81.28, 52.44, 51.65, 50.88, 50.12, 49.36, 48.62, 47.89, 47.18, 46.47, 45.77, 45.08, 44.41, 43.74, 43.09, 42.44, 41.8, 41.18, 40.56, 39.95], // диаметр 100 мм
					[147.35, 101.62, 100.91, 100.2, 99.5, 98.8, 98.11, 97.43, 96.74, 96.07, 95.39, 94.73, 94.06, 93.41, 92.75, 92.1, 91.46, 90.82, 90.18, 89.55] // диаметр 150 мм
				];
				let table = table_paper;
				let row = 1;
				let column = 0;
				let numberOfSets = 1;
				let rangeVal = 50;

				// eventListeners
				$("#rec187915774").off('change');
				$('.t-select, .t-radio, .t-checkbox, .t-img-select').off('change');
				$(".t-form__screen-wrapper .t-input.js-tilda-rule").off();

				$('[data-input-lid="1584868178894"] .t-radio__wrapper').change(function () { // материал
					if ($('[data-input-lid="1584868178894"] .t-radio:eq(0)').prop('checked')) {
						table = table_paper;
						updateFinalPrice();
					} else if ($('[data-input-lid="1584868178894"] .t-radio:eq(1)').prop(
						'checked')) {
						table = table_vinyl;
						updateFinalPrice();
					}
				});

				$('[data-input-lid="1584868125487"] .t-radio__wrapper').change(function () { // размер
					$('[data-input-lid="1584868125487"] .t-radio').each(function (index, element) {
						if ($(element).prop('checked')) {
							row = +index + 1;
							updateFinalPrice();
						}
					});
				});

				$('[data-input-lid="1584868297796"] .t-input.js-tilda-rule').keyup(function () { // тираж
					rangeVal = $('[data-input-lid="1584868297796"] .t-input.js-tilda-rule').val();
					for (let index = 0; index < table[0].length; index++) {
						if (rangeVal < 0 || !parseInt(rangeVal)) {
							$('[data-input-lid="1584868297796"] .t-input.js-tilda-rule').val('');
							break;
						} else if (rangeVal <= table[0][index]) {
							column = index;
							break;
						} else if (rangeVal > table[0][table[0].length - 1]) {
							column = table[0].length - 1;
							break;
						}
					}
					updateFinalPrice();
				});

				$('[data-input-lid="1585845219300"] .t-radio__wrapper').change(
			function () { // кол-во комплектов
					$('[data-input-lid="1585845219300"] .t-radio').each(function (index, element) {
						if ($(element).prop('checked')) {
							numberOfSets = +index + 1;
							updateFinalPrice();
						}
					});
				});

				setInterval(updateFinalPrice, 100);
			}, 600);
		} catch (err) {}
	});
</script>